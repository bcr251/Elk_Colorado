<!DOCTYPE html>
<html>


<head>
  <meta charset=utf-8 />
  <title>MAP 671 - Fall 2022 Elk Population Chnages in Montana</title>

  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css" rel="stylesheet" />
  <link href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=PT+Sans" rel="stylesheet">
  <style>
    /* The map element */
    #map {
      width: 100%;
      height: 600px;
    }

    /* Add HTML element styles */

    body {
      width: 80%;
      margin: 10px auto;
      padding: 0;
      background: #FFFFFF;
      font-family: 'PT Sans', Sans-serif;
      font-weight: 300;
      color: "black";
      font-size: 100%;
    }

    /* Change opacity on hover over the icon class */

    .icon:hover {
      opacity: .8;
    }

    /* Modify Leaflet's default popup style */

    .leaflet-popup-content h3 {
      font-family: "PT Sans", serif;
      font-size: 1.3em;
      margin-bottom: 6px;
    }

    .leaflet-popup-content p {
      margin: 3px 0 6px;
      font-size: 1.1em;
    }

    .leaflet-popup-content a {
      font-weight: normal;
    }

    img.ladybeetle {
      height: 25%;
      width: 25%;
    }

    th {
      text-align: center;
    }

    td {
      text-align: center;
    }
  </style>
  <script src="http://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>

</head>

<body>

  <header>
    <h1>Elk Population Chnages in Montana! (2012-2022)</h1>
  </header>

  <section>
    <div id='map'></div>
  </section>

  <br><br>
  <hr>
  <h2>Source Information:</h2>
  <p>This map was created by Bethany Craig  in the MAP 671 Fall 2022 course at the University of Kentucky. This map visualizes changes in big game populations in the state of Montana over the last 10 years. “According to Montana’s current elk management plan, the statewide elk population goal is about 92,000 animals. In 2020, FWP estimated the population to be nearly twice that at 170,000” 9 (Kantner 2022). As populations grow, elk management has reached “crisis levels” (Northern Ag Network 2021). My map demonstrates how past flooding and wildfires have affected the elk population for the past 10 years, and hopes to uncover some possible reasons for the population explosion in Montana. For more information visit: https://github.com/bcr251/Elk_Montana
    Sources: Kantner, E. (2022). Montana Elk: New regs could end bull hunting on some public lands. Free Range American. Retrieved December 4, 2022, from https://freerangeamerican.us/new-montana-elk-hunting-regs/ 
Northern Ag Network / Chuck Denowh – Policy Director – United Property Owners of Montana. (2021). Elk population counts at "Crisis level" in Montana. KBHB Ranch Radio. Retrieved December 4, 2022, from https://www.kbhbradio.com/news/elk-population-counts-at-crisis-level-in-montana .
  </p>
  
    <hr>
        <!-- <h4><a href="https://uky-gis.github.io">UKy GIS and Mapping</a></h4> -->
        <a href="https://github.com/bcr251/Elk_Montana">
            <img src="logo-color-400px.png" alt="Uinversity of Kentucky Geography"></a>

  <script>

    // Map options control initial location and zoom level.
    var options = {
      center: [0, 0],
      zoom: 2,
      minZoom: 2,
      maxZoom: 15,
      zoomControl: true
    }

    // Create Leaflet map with above options.
    var map = L.map('map', options);
    // Get basemap URL from Leaflet Providers
    var basemap_url = 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}';

    // http://leaflet-extras.github.io/leaflet-providers/preview/index.html
    // Get basemap attributes from Leaflet Providers for the specific map used
    var basemap_attributes = {
      maxZoom: 18,
      attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
    };
    // requests some map tiles
    var tiles = L.tileLayer(basemap_url, basemap_attributes);

    map.addLayer(tiles);


    var samplepoints = [
      {
        name: "Bethany Craig",
        properties: {
          description: "Lexington, KY tree map",
          coordinates: [38.048, -84.502],
          topic: "Forestry"
        }
      }
      //,

    ];

    // Create empty latLng bounds for zooming/centering map dynamically
    var bounds = L.latLngBounds();

    // Create all sample points
    for (var i = 0; i < samplepoints.length; i++) {
      var props = samplepoints[i].properties;
      var popup = `<h3>${samplepoints[i].name}</h3>
            <p><b>Topic</b>:<br>${props.topic}</p>
            <p><b>Short description</b>:<br><i>${props.description}</i></p>`
      //Create the icon 
      var icon = L.icon({
        iconUrl: props.icon,
        iconSize: [40, 40],
        popupAnchor: [0, -22],
        className: "icon"
      });

      var marker = L.marker(samplepoints[i].properties.coordinates, {
      })
        .addTo(map)
        .bindPopup(popup);

      //  Extend the bounds as features are added
      bounds.extend(samplepoints[i].properties.coordinates)


      marker.on("mouseover", function () {
        this.openPopup();
      });
      // marker.on("mouseout", function() {
      //   this.closePopup();
      // });
    }

// If you disable the mouseout, the popup will linger until mousing/clicking over another marker

  </script>
</body>

</html>
